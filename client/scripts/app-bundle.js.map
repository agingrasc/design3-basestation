{"version":3,"sources":["app.js","environment.js","main.js","http/base-station-request.js","resources/index.js","services/timer.js","services/vision.js","components/competition/competition.js","components/debug/debug.js","components/go-to-position/go-to-position.js","components/informations/informations.js","components/navbar/navbar.js","components/robot-controller/robot-controller.js","/Users/jeansebastien/Google Drive/ulaval/hiver2017/GLO-3013/projet/design3-basestation/client/src/components/stat/stat.js","components/world-vision/world-vision-competition.js","components/world-vision/world-vision-debug.js"],"names":["App","configureRouter","config","router","title","navStrat","instruction","moduleId","fragment","href","map","route","name","nav","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","BaseStationRequest","baseStationUrl","post","data","path","fetch","method","headers","body","res","json","console","log","JSON","stringify","Timer","begin","time","startTimer","myVar","setInterval","myTimer","self","d","Date","valueOf","seconds","Math","floor","minutes","hours","slice","Vision","informations","undefined","imageView","world_information","origin","ratio","goto","ws","WebSocket","onopen","send","onmessage","evt","parse","image","x","width","world","base_table","dimension","length","height","window","requestAnimationFrame","imagePath","obstacles","robot","parseInt","round","position","y","orientation","theta","world_dimension","sent_dimension","checkReadyToStart","registerImageView","registerInformations","registerGotoPosition","registerGoto","Competition","Debug","GoToPosition","timer","vision","httpClient","info","execute","payload","destination","xPosition","yPosition","Informations","attached","Navbar","RobotController","currentCommand","messageReceived","options","sendCommand","taskId","indexOf","toString","message","WorldVisionCompetition","canvasId","x_position","y_position","chosen_x_position","chosen_y_position","canvas","document","getElementById","context","getContext","WorldVisionDebug","monPixel","visionProperties","addEventListener","mousePos","getMousePos","adjustPositions","resetPathRendering","mode","response","catch","err","resetDetection","rect","getBoundingClientRect","clientX","left","clientY","top","world_origin_x","parseFloat","world_origin_y","world_image_ratio"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n    configureRouter(config, router) {\n        config.title = 'Aurelia';\n        var navStrat = (instruction) => {\n            instruction.config.moduleId = instruction.fragment;\n            instruction.config.href = instruction.fragment;\n        };\n        config.map([{\n            route: ['', 'competition'],\n            name: 'competition',\n            moduleId: './components/competition/competition',\n            nav: true,\n            title: 'Competition'\n        }, {\n            route: 'debug',\n            name: 'debug',\n            moduleId: './components/debug/debug',\n            nav: true,\n            title: 'Debug'\n        }]);\n        this.router = router;\n    }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class BaseStationRequest {\n\n    constructor() {\n        this.baseStationUrl = \"http://localhost:12345\";\n    }\n\n    post(data, path) {\n        fetch(this.baseStationUrl + path, {\n                method: \"POST\",\n                headers: {\n                    'content-type': 'application/json'\n                },\n                body: data\n            })\n            .then(function(res) {\n                return res.json();\n            })\n            .then(function(data) {\n                console.log(JSON.stringify(data));\n            });\n    }\n}\n","export function configure(config) {\n    //config.globalResources([]);\n}\n","export class Timer {\n    constructor() {\n        this.begin = 0;\n        this.time = \"Timer not started\";\n    }\n\n    startTimer() {\n        var myVar = setInterval(myTimer, 1000);\n        var self = this;\n        var d = new Date();\n        this.begin = d.valueOf();\n\n        function myTimer() {\n            var d = new Date();\n            var time = d.valueOf() - self.begin;\n            var seconds = Math.floor((time / 1000) % 60);\n            var minutes = Math.floor(((time / (1000 * 60)) % 60));\n            var hours = Math.floor(((time / (1000 * 60 * 60)) % 24));\n            self.time = (\"0\" + hours).slice(-2) + \":\" + (\"0\" + minutes).slice(-2) + \":\" + (\"0\" + seconds).slice(-2);\n        }\n    }\n}\n","export class Vision {\n    constructor() {\n        this.informations = undefined;\n        this.imageView = undefined;\n        this.world_information = undefined;\n        this.origin = undefined;\n        this.ratio = undefined;\n        this.goto = undefined;\n    }\n\n    start() {\n        let ws = new WebSocket('ws://localhost:3000');\n\n        ws.onopen = () => {\n            ws.send(JSON.stringify({'headers': 'register_vision_data'}));\n        };\n\n        ws.onmessage = (evt) => {\n            let data = JSON.parse(evt.data);\n\n            if (data.image.origin.x !== \"\") {\n                this.world_information.origin = data.image.origin;\n                this.world_information.ratio = data.image.ratio;\n                this.goto.width = data.world.base_table.dimension.width;\n                this.goto.length = data.world.base_table.dimension.height;\n            }\n\n            window.requestAnimationFrame(() => {\n                this.imageView.imagePath = \"data:image/png;base64,\" + data.image.data;\n            });\n\n            this.informations.obstacles = data.world.obstacles;\n\n            // Update robot position\n            let robot = data.world.robot;\n            this.informations.robot = {\n                \"position\": {\n                    \"x\": parseInt(Math.round(robot.position.x)),\n                    \"y\": parseInt(Math.round(robot.position.y))\n                },\n                \"orientation\": robot.orientation\n            };\n\n            this.goto.robot = {\n                \"position\": {\n                    \"x\": robot.position.x,\n                    \"y\": robot.position.y,\n                    \"theta\": robot.theta\n                }\n            };\n\n            // Update world obstacles\n            this.goto.obstacles = [];\n\n            // Update world dimension\n            this.world_information.world_dimension = data.image.sent_dimension;\n        };\n    }\n\n    checkReadyToStart() {\n        if (this.imageView === undefined) {\n            return;\n        }\n        if (this.informations === undefined) {\n            return;\n        }\n        if (this.goto === undefined) {\n            return;\n        }\n        this.start();\n    }\n    registerImageView(imageView) {\n        this.imageView = imageView;\n        this.checkReadyToStart();\n    }\n\n    registerInformations(informations) {\n        this.informations = informations;\n        this.checkReadyToStart();\n    }\n\n    registerGotoPosition(world_information) {\n        this.world_information = world_information;\n    }\n\n    registerGoto(goto) {\n        console.log(goto);\n        this.goto = goto;\n        this.checkReadyToStart();\n    }\n}\n","export class Competition {}\n","export class Debug {}\n","import {\n    inject\n}\nfrom 'aurelia-framework';\n\nimport {\n    BaseStationRequest\n} from '../../http/base-station-request';\nimport {\n    bindable,\n    bindingMode\n} from 'aurelia-framework';\n\nimport {\n    Timer\n} from '../../services/timer';\n\nimport {\n    Vision\n} from '../../services/vision';\n\n@inject(Timer, Vision)\nexport class GoToPosition {\n\n    @bindable xPosition = 0;\n    @bindable yPosition = 0;\n    @bindable theta = 0\n\n    constructor(timer, vision) {\n        this.timer = timer;\n        this.httpClient = new BaseStationRequest();\n        this.vision = vision;\n        this.info = {};\n        this.vision.registerGoto(this.info);\n    }\n\n    execute() {\n        this.path = \"/go-to-position/\";\n\n        var payload = this.info;\n\n        payload.destination = {\n            \"x\": this.xPosition,\n            \"y\": this.yPosition,\n            \"theta\": this.theta\n        };\n        console.log(payload);\n\n        var data = JSON.stringify(payload);\n        this.httpClient.post(data, this.path);\n\n        this.timer.startTimer();\n    }\n}\n","import {\n    inject\n}\nfrom 'aurelia-framework';\n\nimport {\n    Vision\n} from '../../services/vision';\n\nimport {\n    Timer\n} from '../../services/timer';\n\n@inject(Vision, Timer)\nexport class Informations {\n    constructor(vision, timer) {\n        this.timer = timer;\n        this.vision = vision;\n        this.informations = {};\n        this.informations.obstacles = [];\n    }\n\n    attached() {\n        this.vision.registerInformations(this.informations);\n    }\n}\n","export class Navbar {}\n","export class RobotController {\n  constructor() {\n    this.currentCommand = null;\n    this.messageReceived = false;\n    this.options = [\n      'competition',\n      'initial-orientation',\n      'identify-antenna',\n      'receive-information',\n      'go-to-image',\n      'take-picture',\n      'go-to-draw-zone',\n      'draw',\n      'go-out-of-draw-zone',\n      'light-red-led'\n    ];\n  }\n\n  sendCommand() {\n    const taskId = this.options.indexOf(this.currentCommand).toString();\n    const data = {\"task_id\": taskId};\n\n    this.messageReceived = false;\n\n    fetch(\"http://localhost:12345/start-tasks\", {\n        method: \"POST\",\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    }).then((res) => {\n        return res.json();\n    }).then((data) => {\n      if (data.message) {\n        this.message = 'Command sent to robot';\n        this.messageReceived = true;\n      }\n    });\n\n  }\n}\n",null,"export class WorldVisionCompetition {\n\n    constructor() {\n        this.canvasId = \"monCanvas\";\n        this.x_position = 0;\n        this.y_position = 0;\n        this.imagePath = \"./src/components/world-vision/image14.jpg\";\n        this.chosen_x_position = 0;\n        this.chosen_y_position = 0;\n    }\n\n    attached() {\n        var canvas = document.getElementById(this.canvasId);\n        var context = canvas.getContext('2d');\n    }\n\n    start() {\n        console.log(\"Started\");\n    }\n}\n","import {\n    inject\n} from 'aurelia-framework';\n\nimport {\n    Vision\n} from '../../services/vision';\n\n@inject(Vision)\nexport class WorldVisionDebug {\n    constructor(vision) {\n        this.vision = vision;\n        this.monPixel = \"800\"\n\n        this.canvasId = 'monCanvas';\n\n        this.visionProperties = {};\n        this.visionProperties.imagePath = './src/components/world-vision/image14.jpg';\n\n        this.x_position = 0;\n        this.y_position = 0;\n\n        this.chosen_x_position = 0;\n        this.chosen_y_position = 0;\n\n        this.world_information = {};\n        this.theta = 0;\n    }\n\n    attached() {\n        let canvas = document.getElementById(this.canvasId);\n\n        canvas.addEventListener('mousemove', (evt) => {\n            let mousePos = this.getMousePos(canvas, evt);\n            this.adjustPositions(mousePos);\n        }, false);\n\n        canvas.addEventListener('click', (evt) => {\n            this.chosen_x_position = this.x_position;\n            this.chosen_y_position = this.y_position;\n        }, false);\n\n        this.vision.registerImageView(this.visionProperties);\n        this.vision.registerGotoPosition(this.world_information);\n    }\n\n    resetPathRendering() {\n        fetch('http://0.0.0.0:5000/vision/reset-rendering', {\n            method: \"POST\",\n            headers: {\n                'content-type': 'application/json'\n            },\n            mode: 'no-cors'\n        }).then(function (response) {\n            console.log(response);\n        }).catch(function (err) {\n            console.log(err);\n        });\n    }\n\n    resetDetection() {\n        fetch('http://0.0.0.0:5000/vision/reset-detection', {\n            method: \"POST\",\n            headers: {\n                'content-type': 'application/json'\n            },\n            mode: 'no-cors'\n        }).then(function (response) {\n            console.log(response);\n        }).catch(function (err) {\n            console.log(err);\n        });\n    }\n\n    getMousePos(canvas, evt) {\n        let rect = canvas.getBoundingClientRect();\n        return {\n            x: evt.clientX - rect.left,\n            y: evt.clientY - rect.top\n        };\n    }\n\n    adjustPositions(mousePos) {\n        let world_origin_x = parseFloat(this.world_information.origin.x);\n        let world_origin_y = parseFloat(this.world_information.origin.y);\n        let world_image_ratio = parseFloat(this.world_information.ratio);\n\n        this.x_position = Math.floor((mousePos.x - world_origin_x) * world_image_ratio * 10);\n        this.y_position = Math.floor((mousePos.y - world_origin_y) * world_image_ratio * 10);\n    }\n}\n"],"sourceRoot":"../src"}